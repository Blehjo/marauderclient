import e,{useRef as t,useImperativeHandle as r,useLayoutEffect as s}from"react";import o from"../utils/with-defaults";import i from"../input";import n from"../use-resize";import{warn as a}from"../utils/console";import{excludedInputPropsForTextarea as u}from"../utils/prop-types";import{__DEV__ as m}from"../utils/assertion";import{calculateNodeHeight as l,getSizingData as c}from"./utils";import{jsx as p}from"react/jsx-runtime";const f=e.forwardRef(((o,f)=>{const x=t(null),h=e.useRef(0),d=e.useRef(),{cacheMeasurements:g,rows:y,maxRows:w,minRows:R,onChange:H,onHeightChange:v,css:j,...C}=o;Object.keys(C).forEach((e=>{u.indexOf(e)>-1&&delete C[e]}));const P=void 0!==C.value;m&&C.style&&("maxHeight"in C.style&&a("Using `style.maxHeight` for <Textarea/> is not supported. Please use `maxRows`."),"minHeight"in C.style&&a("Using `style.minHeight` for <Textarea/> is not supported. Please use `minRows`.")),r(f,(()=>x.current));const T=()=>{const e=x.current,t=g&&d.current?d.current:c(e);if(!t)return;d.current=t;const[r,s]=l(t,P&&C.value||e.value||e.placeholder||"x",y||R,y||w);h.current!==r&&(h.current=r,e.style.setProperty("height",`${r}px`,"important"),v&&v(r,{rowHeight:s}))};return"undefined"!=typeof document&&(s(T),n(T)),p(i,{ref:x,as:"textarea",css:j,onChange:e=>{T(),H&&H(e)},...C})}));m&&(f.displayName="NextUI.Textarea"),f.toString=()=>".nextui-textarea";export default o(f,{minRows:3,maxRows:6,cacheMeasurements:!0,initialValue:""});